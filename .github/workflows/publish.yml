name: publish
description:

on:
  workflow_dispatch:
    tags:
      - 'v*'

jobs:
  publish:
    - name: Checkout Repo
      uses: actions/checkout@v3.5.2
      with:
        ref: refs/tags/${{ github.ref }}

    - name: Use node@16
      uses: actions/setup-node@v3
      with:
        node-version: 16.20.0

    - name: Authenticate NPM
      run: echo "//registry.npmjs.org/:_authToken=${{ secrets.NPM_TOKEN }}" > ~/.npmrc

    - name: Publish
      run: |
        yarn publish
